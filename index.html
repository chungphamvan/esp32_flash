<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Shino ESP32-S3 Web Flasher ‚Äî 1-Click</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="card">
    <header>
      <div class="logo">SHINO</div>
      <div>
        <h1>Shino Web Flasher ‚Äî ESP32-S3 (1-Click)</h1>
        <p class="lead">C√¥ng c·ª• n·∫°p firmware ESP32 tr·ª±c tuy·∫øn v·ªõi giao di·ªán th√¢n thi·ªán v√† h·ªó tr·ª£ nhi·ªÅu lo·∫°i m√†n h√¨nh.</p>
      </div>
    </header>

    <!-- Tab Navigation -->
    <div class="tab-navigation">
      <button class="tab-btn active" data-tab="chatbot">Xiaozhi Chatbot</button>
      <button class="tab-btn" data-tab="manual">C·∫•u h√¨nh th·ªß c√¥ng</button>
    </div>

    <!-- Xiaozhi Chatbot Tab -->
    <section class="section tab-content active" id="chatbot-tab">
      <div class="chatbot-header">
        <h2>Ch·ªçn Firmware</h2>
      </div>

      <div class="chip-selection">
        <h3>Ch·ªçn Chip</h3>
        <select id="chip-select" class="chip-dropdown">
          <option value="esp32-16r8">ESP32 16R8 (C√≥ h·ªó tr·ª£ m·∫°ch t√≠m)</option>
        </select>
      </div>

      <div class="display-selection">
        <h3>Ch·ªçn M√†n H√¨nh OLED</h3>
        <div class="display-cards">
          <!-- OLED 1.54 inch TFT -->
          <div class="display-card">
            <div class="display-image">
              <img src="assets/OLED 1.54 inch TFT.png" alt="OLED 1.54 inch TFT Display" class="display-photo">
            </div>
            <div class="card-info">
              <h4>OLED 1.54 inch TFT</h4>
              <p>Phi√™n b·∫£n cho m√†n h√¨nh TFT 1.54</p>
              <p class="spec">1.54 inch 240x240</p>
            </div>
            <div class="card-actions">
              <button class="btn-flash-fw highlighted">N·∫°p FW</button>
              <button class="btn-view-diagram">Xem s∆° ƒë·ªì</button>
            </div>
          </div>

          <!-- TFT LCD 1.28 Inch Round -->
          <div class="display-card">
            <div class="display-image">
              <img src="assets/TFT LCD 1.28 Inch 240 * 240 GC9A01.png" alt="TFT LCD 1.28 Inch Round Display" class="display-photo">
            </div>
            <div class="card-info">
              <h4>TFT LCD 1.28 Inch GC9A01</h4>
              <p>Phi√™n b·∫£n cho m√†n h√¨nh TFT LCD tr√≤n 1.28 inch</p>
              <p class="spec">1.28 inch 240x240</p>
            </div>
            <div class="card-actions">
              <button class="btn-flash-fw highlighted">N·∫°p FW</button>
              <button class="btn-view-diagram">Xem s∆° ƒë·ªì</button>
            </div>
          </div>

          <!-- OLED 0.96 inch 128X64 -->
          <div class="display-card">
            <div class="display-image">
              <img src="assets/OLED 0.96 inch 128X64.png" alt="OLED 0.96 inch 128X64 Display" class="display-photo">
            </div>
            <div class="card-info">
              <h4>OLED 0.96 inch 128X64</h4>
              <p>Phi√™n b·∫£n cho m√†n h√¨nh OLED 0.96 inch</p>
              <p class="spec">0.96 inch 128x64</p>
            </div>
            <div class="card-actions">
              <button class="btn-flash-fw highlighted">N·∫°p FW</button>
              <button class="btn-view-diagram">Xem s∆° ƒë·ªì</button>
            </div>
          </div>

        </div>
      </div>

      <!-- Footer for Xiaozhi Chatbot Tab -->
      <footer class="tab-footer">
        <div class="footer-content">
          <div class="footer-section">
            <h4>üìû Li√™n h·ªá h·ªó tr·ª£</h4>
            <p><strong>Shino Pham</strong></p>
            <a href="https://www.facebook.com/shinopham1992" target="_blank" class="footer-link">
              üìò Facebook: facebook.com/shinopham1992
            </a>
          </div>
          <div class="footer-section">
            <h4>üîß H·ªó tr·ª£ k·ªπ thu·∫≠t</h4>
            <p>‚Ä¢ T∆∞ v·∫•n l·ª±a ch·ªçn m√†n h√¨nh ph√π h·ª£p</p>
            <p>‚Ä¢ H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t firmware</p>
            <p>‚Ä¢ Gi·∫£i quy·∫øt l·ªói k·∫øt n·ªëi ESP32</p>
          </div>
          <div class="footer-section">
            <h4>‚ö° ESP32 Web Flasher</h4>
            <p>‚Ä¢ C√¥ng c·ª• n·∫°p firmware tr·ª±c tuy·∫øn</p>
            <p>‚Ä¢ H·ªó tr·ª£ nhi·ªÅu lo·∫°i m√†n h√¨nh</p>
            <p>‚Ä¢ T∆∞∆°ng th√≠ch Chrome/Edge</p>
          </div>
        </div>
      </footer>
    </section>

    <!-- Manual Configuration Tab -->
    <section class="section tab-content" id="manual-tab">
      <div class="manual-section">
        <div class="manual-intro">
          <p class="intro-text">T·∫£i file <code>merged-binary.bin</code> r·ªìi nh·∫•n <strong>Connect ‚Üí Flash</strong>. D√πng Chrome ho·∫∑c Edge c√≥ h·ªó tr·ª£ Web Serial API.</p>
        </div>

        <div class="file-selection">
          <label for="file">Ch·ªçn firmware (merged-binary.bin)</label>
          <input id="file" type="file" accept=".bin" />
          <div class="hint">N·∫øu d√πng file bootloader/partition/app ri√™ng, h√£y d√πng ESP-IDF ho·∫∑c b·∫≠t ch·∫ø ƒë·ªô n√¢ng cao.</div>
        </div>

        <div class="config-row">
          <div class="config-item">
            <label for="baud">Baudrate</label>
            <select id="baud">
              <option value="115200">115200</option>
              <option value="230400">230400</option>
              <option value="460800">460800</option>
              <option value="921600">921600</option>
              <option value="2000000" selected>2000000</option>
            </select>
          </div>
          <div class="config-item offset-item">
            <label for="offset">Flash Offset (hex)</label>
            <input id="offset" type="text" value="0x0" />
          </div>
          <div class="action-buttons">
            <button id="btn-connect">Connect</button>
            <button id="btn-flash" class="ghost" disabled>Flash</button>
          </div>
        </div>
      </div>

      <div class="block">
        <label for="console">Console</label>
        <pre id="console">Console ready. Use Chrome/Edge and allow access to USB device.</pre>
      </div>

      <div class="button-group">
        <button id="btn-open-official" class="ghost">Open official esptool-js demo</button>
        <button id="btn-erase" class="ghost" disabled>Erase Flash</button>
      </div>

      <footer>
        <strong>L∆∞u √Ω:</strong> Tr√¨nh duy·ªát c·∫ßn h·ªó tr·ª£ <em>Web Serial API</em> (Chrome/Edge).<br />
        N·∫øu trang kh√¥ng ho·∫°t ƒë·ªông, h√£y m·ªü official tool:<br />
        <code>https://espressif.github.io/esptool-js/</code>.
      </footer>

      <!-- Footer for Manual Configuration Tab -->
      <footer class="tab-footer">
        <div class="footer-content">
          <div class="footer-section">
            <h4>üìû Li√™n h·ªá h·ªó tr·ª£</h4>
            <p><strong>Shino Pham</strong></p>
            <a href="https://www.facebook.com/shinopham1992" target="_blank" class="footer-link">
              üìò Facebook: facebook.com/shinopham1992
            </a>
          </div>
          <div class="footer-section">
            <h4>üõ†Ô∏è Ch·∫ø ƒë·ªô n√¢ng cao</h4>
            <p>‚Ä¢ T√πy ch·ªânh ƒë·ªãa ch·ªâ flash offset</p>
            <p>‚Ä¢ ƒêi·ªÅu ch·ªânh t·ªëc ƒë·ªô baudrate</p>
            <p>‚Ä¢ Upload firmware t√πy ch·ªçn</p>
          </div>
          <div class="footer-section">
            <h4>üìñ H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</h4>
            <p>‚Ä¢ B∆∞·ªõc 1: Ch·ªçn file firmware (.bin)</p>
            <p>‚Ä¢ B∆∞·ªõc 2: K·∫øt n·ªëi ESP32 qua USB</p>
            <p>‚Ä¢ B∆∞·ªõc 3: Nh·∫•n Connect v√† Flash</p>
          </div>
        </div>
      </footer>
    </section>

    <!-- Flash Firmware Modal -->
    <div id="flash-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ƒêang n·∫°p firmware</h3>
          <button class="modal-close">&times;</button>
        </div>

        <!-- Modal Tab Navigation -->
        <div class="modal-tab-navigation">
          <button class="modal-tab-btn active" data-modal-tab="status">Tr·∫°ng th√°i</button>
          <button class="modal-tab-btn" data-modal-tab="log">Log</button>
        </div>

        <div class="modal-body">
          <!-- Status Tab -->
          <div class="modal-tab-content active" id="status-tab">
            <div class="flash-status">
              <div class="status-item error">
                <span class="status-icon">‚úó</span>
                <div class="status-content">
                  <div class="status-title">K·∫øt n·ªëi thi·∫øt b·ªã</div>
                  <div class="status-message">L·ªói: Failed to execute 'requestPort' on 'Serial': No port selected by the user.</div>
                </div>
              </div>
              <div class="status-item pending">
                <span class="status-icon">‚è≥</span>
                <div class="status-content">
                  <div class="status-title">N·∫°p firmware</div>
                  <div class="status-message">Ch·ªù k·∫øt n·ªëi...</div>
                </div>
              </div>
              <div class="status-item pending">
                <span class="status-icon">‚è≥</span>
                <div class="status-content">
                  <div class="status-title">Ho√†n th√†nh</div>
                  <div class="status-message">Ch·ªù...</div>
                </div>
              </div>
            </div>
            <div class="progress-section">
              <h4>Ti·∫øn tr√¨nh t·ªïng th·ªÉ</h4>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
              </div>
            </div>
          </div>

          <!-- Log Tab -->
          <div class="modal-tab-content" id="log-tab">
            <div class="log-section">
              <h4>Chi ti·∫øt qu√° tr√¨nh</h4>
              <div class="log-console">
                <div class="log-entry">üí° Kh·ªüi t·∫°o qu√° tr√¨nh n·∫°p firmware...</div>
                <div class="log-entry">üìÅ ƒê·ªçc file firmware: xiaozhi_esp32_ST7789_240x240.bin</div>
                <div class="log-entry">üîç K√≠ch th∆∞·ªõc file: ƒêang ki·ªÉm tra...</div>
                <div class="log-entry">üîå ƒêang t√¨m ki·∫øm c·ªïng serial...</div>
                <div class="log-entry error">‚ùå L·ªói: Kh√¥ng t√¨m th·∫•y thi·∫øt b·ªã ESP32</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Warning Popup -->
  <div id="mobile-warning" class="mobile-warning-overlay">
    <div class="mobile-warning-content">
      <div class="mobile-warning-header">
        <h3>‚ö†Ô∏è C·∫£nh b√°o thi·∫øt b·ªã di ƒë·ªông</h3>
        <button class="mobile-warning-close" id="mobile-close-btn">&times;</button>
      </div>
      <div class="mobile-warning-body">
        <div class="mobile-warning-icon">üì±</div>
        <p class="mobile-warning-title">Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ c√†i ƒë·∫∑t firmware ESP32</p>
        <p class="mobile-warning-description">
          Thi·∫øt b·ªã di ƒë·ªông kh√¥ng h·ªó tr·ª£ Web Serial API c·∫ßn thi·∫øt ƒë·ªÉ k·∫øt n·ªëi v·ªõi ESP32.
          ƒê·ªÉ s·ª≠ d·ª•ng c√¥ng c·ª• n·∫°p firmware, vui l√≤ng truy c·∫≠p t·ª´ m√°y t√≠nh v·ªõi:
        </p>
        <div class="mobile-warning-browsers">
          <div class="browser-item">
            <span class="browser-icon">üåê</span>
            <span class="browser-name">Google Chrome</span>
          </div>
          <div class="browser-item">
            <span class="browser-icon">üî∑</span>
            <span class="browser-name">Microsoft Edge</span>
          </div>
        </div>
        <p class="mobile-warning-note">
          <strong>L∆∞u √Ω:</strong> B·∫°n v·∫´n c√≥ th·ªÉ xem giao di·ªán v√† t√¨m hi·ªÉu v·ªÅ c√°c lo·∫°i m√†n h√¨nh ƒë∆∞·ª£c h·ªó tr·ª£.
        </p>
      </div>
      <div class="mobile-warning-footer">
        <button class="mobile-warning-understand" id="mobile-understand-btn">T√¥i ƒë√£ hi·ªÉu</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
